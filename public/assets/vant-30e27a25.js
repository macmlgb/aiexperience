import{r as y,f as ue,d as Pe,w as R,b as de,n as q,j as i,k as T,g as te,e as N,l as ot,p as ke,m as j,a as Ie,q as De,T as Te,s as fe,v as ze,c as at,t as lt,F as st,x as it,o as ct,y as rt,z as ut}from"./@vue-380b440a.js";import{u as dt,a as ft,b as vt,c as gt,o as mt,g as ht,d as Ae}from"./@vant-bb344f53.js";const L=e=>e!=null,J=e=>typeof e=="function",ne=e=>e!==null&&typeof e=="object",yt=e=>ne(e)&&J(e.then)&&J(e.catch),pe=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),bt=()=>oe?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function ie(){}const E=Object.assign,oe=typeof window<"u";function be(e,t){const n=t.split(".");let o=e;return n.forEach(a=>{var s;o=ne(o)&&(s=o[a])!=null?s:""}),o}function _e(e,t,n){return t.reduce((o,a)=>((!n||e[a]!==void 0)&&(o[a]=e[a]),o),{})}const Z=null,x=[Number,String],D={type:Boolean,default:!0},Bt=e=>({type:Number,default:e}),b=e=>({type:String,default:e});bt();const Ct=e=>e.stopPropagation();function ve(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&Ct(e)}dt();function P(e){if(L(e))return pe(e)?`${e}px`:String(e)}function xt(e){if(L(e)){if(Array.isArray(e))return{width:P(e[0]),height:P(e[1])};const t=P(e);return{width:t,height:t}}}function wt(e){const t={};return e!==void 0&&(t.zIndex=+e),t}const Et=/-(\w)/g,Fe=e=>e.replace(Et,(t,n)=>n.toUpperCase()),St=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""),{hasOwnProperty:Ot}=Object.prototype;function $t(e,t,n){const o=t[n];!L(o)||(!Ot.call(e,n)||!ne(o)?e[n]=o:e[n]=Le(Object(e[n]),o))}function Le(e,t){return Object.keys(t).forEach(n=>{$t(e,t,n)}),e}var Pt={name:"\u59D3\u540D",tel:"\u7535\u8BDD",save:"\u4FDD\u5B58",confirm:"\u786E\u8BA4",cancel:"\u53D6\u6D88",delete:"\u5220\u9664",loading:"\u52A0\u8F7D\u4E2D...",noCoupon:"\u6682\u65E0\u4F18\u60E0\u5238",nameEmpty:"\u8BF7\u586B\u5199\u59D3\u540D",addContact:"\u6DFB\u52A0\u8054\u7CFB\u4EBA",telInvalid:"\u8BF7\u586B\u5199\u6B63\u786E\u7684\u7535\u8BDD",vanCalendar:{end:"\u7ED3\u675F",start:"\u5F00\u59CB",title:"\u65E5\u671F\u9009\u62E9",weekdays:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],monthTitle:(e,t)=>`${e}\u5E74${t}\u6708`,rangePrompt:e=>`\u6700\u591A\u9009\u62E9 ${e} \u5929`},vanCascader:{select:"\u8BF7\u9009\u62E9"},vanPagination:{prev:"\u4E0A\u4E00\u9875",next:"\u4E0B\u4E00\u9875"},vanPullRefresh:{pulling:"\u4E0B\u62C9\u5373\u53EF\u5237\u65B0...",loosing:"\u91CA\u653E\u5373\u53EF\u5237\u65B0..."},vanSubmitBar:{label:"\u5408\u8BA1:"},vanCoupon:{unlimited:"\u65E0\u95E8\u69DB",discount:e=>`${e}\u6298`,condition:e=>`\u6EE1${e}\u5143\u53EF\u7528`},vanCouponCell:{title:"\u4F18\u60E0\u5238",count:e=>`${e}\u5F20\u53EF\u7528`},vanCouponList:{exchange:"\u5151\u6362",close:"\u4E0D\u4F7F\u7528",enable:"\u53EF\u7528",disabled:"\u4E0D\u53EF\u7528",placeholder:"\u8F93\u5165\u4F18\u60E0\u7801"},vanAddressEdit:{area:"\u5730\u533A",postal:"\u90AE\u653F\u7F16\u7801",areaEmpty:"\u8BF7\u9009\u62E9\u5730\u533A",addressEmpty:"\u8BF7\u586B\u5199\u8BE6\u7EC6\u5730\u5740",postalEmpty:"\u90AE\u653F\u7F16\u7801\u4E0D\u6B63\u786E",addressDetail:"\u8BE6\u7EC6\u5730\u5740",defaultAddress:"\u8BBE\u4E3A\u9ED8\u8BA4\u6536\u8D27\u5730\u5740"},vanAddressList:{add:"\u65B0\u589E\u5730\u5740"}};const Be=y("zh-CN"),Ce=ue({"zh-CN":Pt}),kt={messages(){return Ce[Be.value]},use(e,t){Be.value=e,this.add({[e]:t})},add(e={}){Le(Ce,e)}};var It=kt;function Dt(e){const t=Fe(e)+".";return(n,...o)=>{const a=It.messages(),s=be(a,t+n)||be(a,n);return J(s)?s(...o):s}}function ce(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,o)=>n+ce(e,o),""):Object.keys(t).reduce((n,o)=>n+(t[o]?ce(e,o):""),""):""}function Tt(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${ce(t,n)}`)}function z(e){const t=`van-${e}`;return[t,Tt(t),Dt(t)]}const ge="van-hairline",zt=`${ge}--top`,At=`${ge}--left`,pt=`${ge}--surround`,_t="van-haptics-feedback";function Re(e,{args:t=[],done:n,canceled:o}){if(e){const a=e.apply(null,t);yt(a)?a.then(s=>{s?n():o&&o()}).catch(ie):a?n():o&&o()}else n()}function _(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(Fe(`-${n}`),e))},e}const Ne=Symbol();function Ft(e){const t=Pe(Ne,null);t&&R(t,n=>{n&&e()})}const Lt=(e,t)=>{const n=y(),o=()=>{n.value=ft(e).height};return de(()=>{if(q(o),t)for(let a=1;a<=3;a++)setTimeout(o,100*a)}),Ft(()=>q(o)),n};function Rt(e,t){const n=Lt(e,!0);return o=>i("div",{class:t("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[o()])}const[je,xe]=z("action-bar"),Me=Symbol(je),Nt={placeholder:Boolean,safeAreaInsetBottom:D};var jt=T({name:je,props:Nt,setup(e,{slots:t}){const n=y(),o=Rt(n,xe),{linkChildren:a}=vt(Me);a();const s=()=>{var l;return i("div",{ref:n,class:[xe(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(l=t.default)==null?void 0:l.call(t)])};return()=>e.placeholder?o(s):s()}});const Mt=_(jt);function me(e){const t=te();t&&E(t.proxy,e)}const Ke={to:[String,Object],url:String,replace:Boolean};function Kt({to:e,url:t,replace:n,$router:o}){e&&o?o[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function He(){const e=te().proxy;return()=>Kt(e)}const[Ht,we]=z("badge"),Ut={dot:Boolean,max:x,tag:b("div"),color:String,offset:Array,content:x,showZero:D,position:b("top-right")};var Vt=T({name:Ht,props:Ut,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:l,showZero:c}=e;return L(l)&&l!==""&&(c||l!==0&&l!=="0")},o=()=>{const{dot:l,max:c,content:v}=e;if(!l&&n())return t.content?t.content():L(c)&&pe(v)&&+v>c?`${c}+`:v},a=N(()=>{const l={background:e.color};if(e.offset){const[c,v]=e.offset;t.default?(l.top=P(v),typeof c=="number"?l.right=P(-c):l.right=c.startsWith("-")?c.replace("-",""):`-${c}`):(l.marginTop=P(v),l.marginLeft=P(c))}return l}),s=()=>{if(n()||e.dot)return i("div",{class:we([e.position,{dot:e.dot,fixed:!!t.default}]),style:a.value},[o()])};return()=>{if(t.default){const{tag:l}=e;return i(l,{class:we("wrapper")},{default:()=>[t.default(),s()]})}return s()}}});const Yt=_(Vt);let Ue=2e3;const Zt=()=>++Ue,Xt=e=>{Ue=e},[Ve,Gt]=z("config-provider"),Ye=Symbol(Ve),Wt={tag:b("div"),zIndex:Number,themeVars:Object,iconPrefix:String};function qt(e){const t={};return Object.keys(e).forEach(n=>{t[`--van-${St(n)}`]=e[n]}),t}T({name:Ve,props:Wt,setup(e,{slots:t}){const n=N(()=>{if(e.themeVars)return qt(e.themeVars)});return ke(Ye,e),ot(()=>{e.zIndex!==void 0&&Xt(e.zIndex)}),()=>i(e.tag,{class:Gt(),style:n.value},{default:()=>{var o;return[(o=t.default)==null?void 0:o.call(t)]}})}});const[Jt,Ee]=z("icon"),Qt=e=>e==null?void 0:e.includes("/"),en={dot:Boolean,tag:b("i"),name:String,size:x,badge:x,color:String,badgeProps:Object,classPrefix:String};var tn=T({name:Jt,props:en,setup(e,{slots:t}){const n=Pe(Ye,null),o=N(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||Ee());return()=>{const{tag:a,dot:s,name:l,size:c,badge:v,color:r}=e,u=Qt(l);return i(Yt,j({dot:s,tag:a,class:[o.value,u?"":`${o.value}-${l}`],style:{color:r,fontSize:P(c)},content:v},e.badgeProps),{default:()=>{var d;return[(d=t.default)==null?void 0:d.call(t),u&&i("img",{class:Ee("image"),src:l},null)]}})}}});const ae=_(tn),[nn,Y]=z("loading"),on=Array(12).fill(null).map((e,t)=>i("i",{class:Y("line",String(t+1))},null)),an=i("svg",{class:Y("circular"),viewBox:"25 25 50 50"},[i("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),ln={size:x,type:b("circular"),color:String,vertical:Boolean,textSize:x,textColor:String};var sn=T({name:nn,props:ln,setup(e,{slots:t}){const n=N(()=>E({color:e.color},xt(e.size))),o=()=>{var a;if(t.default)return i("span",{class:Y("text"),style:{fontSize:P(e.textSize),color:(a=e.textColor)!=null?a:e.color}},[t.default()])};return()=>{const{type:a,vertical:s}=e;return i("div",{class:Y([a,{vertical:s}]),"aria-live":"polite","aria-busy":!0},[i("span",{class:Y("spinner",a),style:n.value},[a==="spinner"?on:an]),o()])}}});const Ze=_(sn),[cn,M]=z("button"),rn=E({},Ke,{tag:b("button"),text:String,icon:String,type:b("default"),size:b("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:b("button"),loadingSize:x,loadingText:String,loadingType:String,iconPosition:b("left")});var un=T({name:cn,props:rn,emits:["click"],setup(e,{emit:t,slots:n}){const o=He(),a=()=>n.loading?n.loading():i(Ze,{size:e.loadingSize,type:e.loadingType,class:M("loading")},null),s=()=>{if(e.loading)return a();if(n.icon)return i("div",{class:M("icon")},[n.icon()]);if(e.icon)return i(ae,{name:e.icon,class:M("icon"),classPrefix:e.iconPrefix},null)},l=()=>{let r;if(e.loading?r=e.loadingText:r=n.default?n.default():e.text,r)return i("span",{class:M("text")},[r])},c=()=>{const{color:r,plain:u}=e;if(r){const d={color:u?r:"white"};return u||(d.background=r),r.includes("gradient")?d.border=0:d.borderColor=r,d}},v=r=>{e.loading?ve(r):e.disabled||(t("click",r),o())};return()=>{const{tag:r,type:u,size:d,block:h,round:B,plain:S,square:g,loading:O,disabled:f,hairline:C,nativeType:k,iconPosition:$}=e,m=[M([u,d,{plain:S,block:h,round:B,square:g,loading:O,disabled:f,hairline:C}]),{[pt]:C}];return i(r,{type:k,class:m,style:c(),disabled:f,onClick:v},{default:()=>[i("div",{class:M("content")},[$==="left"&&s(),l(),$==="right"&&s()])]})}}});const re=_(un),[dn,fn]=z("action-bar-button"),vn=E({},Ke,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var gn=T({name:dn,props:vn,setup(e,{slots:t}){const n=He(),{parent:o,index:a}=gt(Me),s=N(()=>{if(o){const c=o.children[a.value-1];return!(c&&"isButton"in c)}}),l=N(()=>{if(o){const c=o.children[a.value+1];return!(c&&"isButton"in c)}});return me({isButton:!0}),()=>{const{type:c,icon:v,text:r,color:u,loading:d,disabled:h}=e;return i(re,{class:fn([c,{last:l.value,first:s.value}]),size:"large",type:c,icon:v,color:u,loading:d,disabled:h,onClick:n},{default:()=>[t.default?t.default():r]})}}});const Se=_(gn),he={show:Boolean,zIndex:x,overlay:D,duration:x,teleport:[String,Object],lockScroll:D,lazyRender:D,beforeClose:Function,overlayStyle:Object,overlayClass:Z,transitionAppear:Boolean,closeOnClickOverlay:D},mn=Object.keys(he);function hn(e,t){return e>t?"horizontal":t>e?"vertical":""}function yn(){const e=y(0),t=y(0),n=y(0),o=y(0),a=y(0),s=y(0),l=y(""),c=()=>l.value==="vertical",v=()=>l.value==="horizontal",r=()=>{n.value=0,o.value=0,a.value=0,s.value=0,l.value=""};return{move:h=>{const B=h.touches[0];n.value=(B.clientX<0?0:B.clientX)-e.value,o.value=B.clientY-t.value,a.value=Math.abs(n.value),s.value=Math.abs(o.value);const S=10;(!l.value||a.value<S&&s.value<S)&&(l.value=hn(a.value,s.value))},start:h=>{r(),e.value=h.touches[0].clientX,t.value=h.touches[0].clientY},reset:r,startX:e,startY:t,deltaX:n,deltaY:o,offsetX:a,offsetY:s,direction:l,isVertical:c,isHorizontal:v}}let H=0;const Oe="van-overflow-hidden";function bn(e,t){const n=yn(),o="01",a="10",s=u=>{n.move(u);const d=n.deltaY.value>0?a:o,h=ht(u.target,e.value),{scrollHeight:B,offsetHeight:S,scrollTop:g}=h;let O="11";g===0?O=S>=B?"00":"01":g+S>=B&&(O="10"),O!=="11"&&n.isVertical()&&!(parseInt(O,2)&parseInt(d,2))&&ve(u,!0)},l=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",s,{passive:!1}),H||document.body.classList.add(Oe),H++},c=()=>{H&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",s),H--,H||document.body.classList.remove(Oe))},v=()=>t()&&l(),r=()=>t()&&c();mt(v),Ie(r),De(r),R(t,u=>{u?l():c()})}function Xe(e){const t=y(!1);return R(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const[Bn,Cn]=z("overlay"),xn={show:Boolean,zIndex:x,duration:x,className:Z,lockScroll:D,lazyRender:D,customStyle:Object};var wn=T({name:Bn,props:xn,setup(e,{slots:t}){const n=y(),o=Xe(()=>e.show||!e.lazyRender),a=l=>{e.lockScroll&&ve(l,!0)},s=o(()=>{var l;const c=E(wt(e.zIndex),e.customStyle);return L(e.duration)&&(c.animationDuration=`${e.duration}s`),fe(i("div",{ref:n,style:c,class:[Cn(),e.className]},[(l=t.default)==null?void 0:l.call(t)]),[[ze,e.show]])});return Ae("touchmove",a,{target:n}),()=>i(Te,{name:"van-fade",appear:!0},{default:s})}});const En=_(wn),Sn=E({},he,{round:Boolean,position:b("center"),closeIcon:b("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:b("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[On,$e]=z("popup");var $n=T({name:On,inheritAttrs:!1,props:Sn,emits:["open","close","opened","closed","keydown","update:show","click-overlay","click-close-icon"],setup(e,{emit:t,attrs:n,slots:o}){let a,s;const l=y(),c=y(),v=Xe(()=>e.show||!e.lazyRender),r=N(()=>{const m={zIndex:l.value};if(L(e.duration)){const I=e.position==="center"?"animationDuration":"transitionDuration";m[I]=`${e.duration}s`}return m}),u=()=>{a||(a=!0,l.value=e.zIndex!==void 0?+e.zIndex:Zt(),t("open"))},d=()=>{a&&Re(e.beforeClose,{done(){a=!1,t("close"),t("update:show",!1)}})},h=m=>{t("click-overlay",m),e.closeOnClickOverlay&&d()},B=()=>{if(e.overlay)return i(En,{show:e.show,class:e.overlayClass,zIndex:l.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0,onClick:h},{default:o["overlay-content"]})},S=m=>{t("click-close-icon",m),d()},g=()=>{if(e.closeable)return i(ae,{role:"button",tabindex:0,name:e.closeIcon,class:[$e("close-icon",e.closeIconPosition),_t],classPrefix:e.iconPrefix,onClick:S},null)},O=()=>t("opened"),f=()=>t("closed"),C=m=>t("keydown",m),k=v(()=>{var m;const{round:I,position:G,safeAreaInsetTop:se,safeAreaInsetBottom:nt}=e;return fe(i("div",j({ref:c,style:r.value,role:"dialog",tabindex:0,class:[$e({round:I,[G]:G}),{"van-safe-area-top":se,"van-safe-area-bottom":nt}],onKeydown:C},n),[(m=o.default)==null?void 0:m.call(o),g()]),[[ze,e.show]])}),$=()=>{const{position:m,transition:I,transitionAppear:G}=e,se=m==="center"?"van-fade":`van-popup-slide-${m}`;return i(Te,{name:I||se,appear:G,onAfterEnter:O,onAfterLeave:f},{default:k})};return R(()=>e.show,m=>{m&&!a&&(u(),n.tabindex===0&&q(()=>{var I;(I=c.value)==null||I.focus()})),!m&&a&&(a=!1,t("close"))}),me({popupRef:c}),bn(c,()=>e.show&&e.lockScroll),Ae("popstate",()=>{e.closeOnPopstate&&(d(),s=!1)}),de(()=>{e.show&&u()}),at(()=>{s&&(t("update:show",!0),s=!1)}),Ie(()=>{e.show&&e.teleport&&(d(),s=!0)}),ke(Ne,()=>e.show),()=>e.teleport?i(lt,{to:e.teleport},{default:()=>[B(),$()]}):i(st,null,[B(),$()])}});const Ge=_($n);function We(){const e=ue({show:!1}),t=a=>{e.show=a},n=a=>{E(e,a,{transitionAppear:!0}),t(!0)},o=()=>t(!1);return me({open:n,close:o,toggle:t}),{open:n,close:o,state:e,toggle:t}}function qe(e){const t=it(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}let U=0;function Pn(e){e?(U||document.body.classList.add("van-toast--unclickable"),U++):U&&(U--,U||document.body.classList.remove("van-toast--unclickable"))}const[kn,V]=z("toast"),In=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],Dn={icon:String,show:Boolean,type:b("text"),overlay:Boolean,message:x,iconSize:x,duration:Bt(2e3),position:b("middle"),teleport:[String,Object],className:Z,iconPrefix:String,transition:b("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:Z,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var Je=T({name:kn,props:Dn,emits:["update:show"],setup(e,{emit:t}){let n,o=!1;const a=()=>{const u=e.show&&e.forbidClick;o!==u&&(o=u,Pn(o))},s=u=>t("update:show",u),l=()=>{e.closeOnClick&&s(!1)},c=()=>clearTimeout(n),v=()=>{const{icon:u,type:d,iconSize:h,iconPrefix:B,loadingType:S}=e;if(u||d==="success"||d==="fail")return i(ae,{name:u||d,size:h,class:V("icon"),classPrefix:B},null);if(d==="loading")return i(Ze,{class:V("loading"),size:h,type:S},null)},r=()=>{const{type:u,message:d}=e;if(L(d)&&d!=="")return u==="html"?i("div",{key:0,class:V("text"),innerHTML:String(d)},null):i("div",{class:V("text")},[d])};return R(()=>[e.show,e.forbidClick],a),R(()=>[e.show,e.type,e.message,e.duration],()=>{c(),e.show&&e.duration>0&&(n=setTimeout(()=>{s(!1)},e.duration))}),de(a),ct(a),()=>i(Ge,j({class:[V([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:l,onClosed:c,"onUpdate:show":s},_e(e,In)),{default:()=>[v(),r()]})}});const Qe={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let p=[],le=!1,Q=E({},Qe);const ee=new Map;function et(e){return ne(e)?e:{message:e}}function Tn(){const{instance:e,unmount:t}=qe({setup(){const n=y(""),{open:o,state:a,close:s,toggle:l}=We(),c=()=>{le&&(p=p.filter(r=>r!==e),t())},v=()=>i(Je,j(a,{onClosed:c,"onUpdate:show":l}),null);return R(n,r=>{a.message=r}),te().render=v,{open:o,clear:s,message:n}}});return e}function zn(){if(!p.length||le){const e=Tn();p.push(e)}return p[p.length-1]}function F(e={}){if(!oe)return{};const t=zn(),n=et(e);return t.open(E({},Q,ee.get(n.type||Q.type),n)),t}const ye=e=>t=>F(E({type:e},et(t)));F.loading=ye("loading");F.success=ye("success");F.fail=ye("fail");F.clear=e=>{var t;p.length&&(e?(p.forEach(n=>{n.clear()}),p=[]):le?(t=p.shift())==null||t.clear():p[0].clear())};function An(e,t){typeof e=="string"?ee.set(e,t):E(Q,e)}F.setDefaultOptions=An;F.resetDefaultOptions=e=>{typeof e=="string"?ee.delete(e):(Q=E({},Qe),ee.clear())};F.allowMultiple=(e=!0)=>{le=e};F.install=e=>{e.use(_(Je)),e.config.globalProperties.$toast=F};const[pn,K]=z("image"),_n={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:x,height:x,radius:x,lazyLoad:Boolean,iconSize:x,showError:D,errorIcon:b("photo-fail"),iconPrefix:String,showLoading:D,loadingIcon:b("photo")};var Fn=T({name:pn,props:_n,emits:["load","error"],setup(e,{emit:t,slots:n}){const o=y(!1),a=y(!0),s=y(),{$Lazyload:l}=te().proxy,c=N(()=>{const g={width:P(e.width),height:P(e.height)};return L(e.radius)&&(g.overflow="hidden",g.borderRadius=P(e.radius)),g});R(()=>e.src,()=>{o.value=!1,a.value=!0});const v=g=>{a.value=!1,t("load",g)},r=g=>{o.value=!0,a.value=!1,t("error",g)},u=(g,O,f)=>f?f():i(ae,{name:g,size:e.iconSize,class:O,classPrefix:e.iconPrefix},null),d=()=>{if(a.value&&e.showLoading)return i("div",{class:K("loading")},[u(e.loadingIcon,K("loading-icon"),n.loading)]);if(o.value&&e.showError)return i("div",{class:K("error")},[u(e.errorIcon,K("error-icon"),n.error)])},h=()=>{if(o.value||!e.src)return;const g={alt:e.alt,class:K("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?fe(i("img",j({ref:s},g),null),[[rt("lazy"),e.src]]):i("img",j({src:e.src,onLoad:v,onError:r},g),null)},B=({el:g})=>{const O=()=>{g===s.value&&a.value&&v()};s.value?O():q(O)},S=({el:g})=>{g===s.value&&!o.value&&r()};return l&&oe&&(l.$on("loaded",B),l.$on("error",S),De(()=>{l.$off("loaded",B),l.$off("error",S)})),()=>{var g;return i("div",{class:K({round:e.round,block:e.block}),style:c.value},[h(),d(),(g=n.default)==null?void 0:g.call(n)])}}});const Hn=_(Fn),[Ln,A,W]=z("dialog"),Rn=E({},he,{title:String,theme:String,width:x,message:[String,Function],callback:Function,allowHtml:Boolean,className:Z,transition:b("van-dialog-bounce"),messageAlign:String,closeOnPopstate:D,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:D,closeOnClickOverlay:Boolean}),Nn=[...mn,"transition","closeOnPopstate"];var tt=T({name:Ln,props:Rn,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:n}){const o=y(),a=ue({confirm:!1,cancel:!1}),s=f=>t("update:show",f),l=f=>{var C;s(!1),(C=e.callback)==null||C.call(e,f)},c=f=>()=>{!e.show||(t(f),e.beforeClose?(a[f]=!0,Re(e.beforeClose,{args:[f],done(){l(f),a[f]=!1},canceled(){a[f]=!1}})):l(f))},v=c("cancel"),r=c("confirm"),u=ut(f=>{var C,k;if(f.target!==((k=(C=o.value)==null?void 0:C.popupRef)==null?void 0:k.value))return;({Enter:e.showConfirmButton?r:ie,Escape:e.showCancelButton?v:ie})[f.key](),t("keydown",f)},["enter","esc"]),d=()=>{const f=n.title?n.title():e.title;if(f)return i("div",{class:A("header",{isolated:!e.message&&!n.default})},[f])},h=f=>{const{message:C,allowHtml:k,messageAlign:$}=e,m=A("message",{"has-title":f,[$]:$}),I=J(C)?C():C;return k&&typeof I=="string"?i("div",{class:m,innerHTML:I},null):i("div",{class:m},[I])},B=()=>{if(n.default)return i("div",{class:A("content")},[n.default()]);const{title:f,message:C,allowHtml:k}=e;if(C){const $=!!(f||n.title);return i("div",{key:k?1:0,class:A("content",{isolated:!$})},[h($)])}},S=()=>i("div",{class:[zt,A("footer")]},[e.showCancelButton&&i(re,{size:"large",text:e.cancelButtonText||W("cancel"),class:A("cancel"),style:{color:e.cancelButtonColor},loading:a.cancel,disabled:e.cancelButtonDisabled,onClick:v},null),e.showConfirmButton&&i(re,{size:"large",text:e.confirmButtonText||W("confirm"),class:[A("confirm"),{[At]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:a.confirm,disabled:e.confirmButtonDisabled,onClick:r},null)]),g=()=>i(Mt,{class:A("footer")},{default:()=>[e.showCancelButton&&i(Se,{type:"warning",text:e.cancelButtonText||W("cancel"),class:A("cancel"),color:e.cancelButtonColor,loading:a.cancel,disabled:e.cancelButtonDisabled,onClick:v},null),e.showConfirmButton&&i(Se,{type:"danger",text:e.confirmButtonText||W("confirm"),class:A("confirm"),color:e.confirmButtonColor,loading:a.confirm,disabled:e.confirmButtonDisabled,onClick:r},null)]}),O=()=>n.footer?n.footer():e.theme==="round-button"?g():S();return()=>{const{width:f,title:C,theme:k,message:$,className:m}=e;return i(Ge,j({ref:o,role:"dialog",class:[A([k]),m],style:{width:P(f)},tabindex:0,"aria-labelledby":C||$,onKeydown:u,"onUpdate:show":s},_e(e,Nn)),{default:()=>[d(),B(),O()]})}}});let X;function jn(){({instance:X}=qe({setup(){const{state:t,toggle:n}=We();return()=>i(tt,j(t,{"onUpdate:show":n}),null)}}))}function w(e){return oe?new Promise((t,n)=>{X||jn(),X.open(E({},w.currentOptions,e,{callback:o=>{(o==="confirm"?t:n)(o)}}))}):Promise.resolve()}w.defaultOptions={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};w.currentOptions=E({},w.defaultOptions);w.alert=w;w.confirm=e=>w(E({showCancelButton:!0},e));w.close=()=>{X&&X.toggle(!1)};w.setDefaultOptions=e=>{E(w.currentOptions,e)};w.resetDefaultOptions=()=>{w.currentOptions=E({},w.defaultOptions)};w.Component=_(tt);w.install=e=>{e.use(w.Component),e.config.globalProperties.$dialog=w};export{re as B,w as D,Hn as I,F as T,ae as a};
